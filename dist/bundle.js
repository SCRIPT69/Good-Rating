(()=>{"use strict";const e=function(e){13==e.keyCode&&e.currentTarget.blur()},t=function(e){e.currentTarget.select()},r=function(e){var t=void 0===(e=e||window.event).which?e.keyCode:e.which;String.fromCharCode(t).match(/^[0-9]+$/)||e.preventDefault()},n=function(e){var t=Number(e.currentTarget.value);e.currentTarget.min&&t<e.currentTarget.min&&(t=e.currentTarget.min),e.currentTarget.max&&t>e.currentTarget.max&&(t=e.currentTarget.max),e.currentTarget.value=t};function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function o(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==a(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===a(o)?o:String(o)),n)}var o}function l(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}(e,s(e,t,"set"),r),r}function u(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,s(e,t,"get"))}function s(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}var f=new WeakMap,m=new(function(){function e(){var t,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n={writable:!0,value:!0},function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t=this,r=f),r.set(t,n)}var t,r;return t=e,(r=[{key:"hasErrors",get:function(){return u(this,f)}},{key:"checkForErrors",value:function(e,t,r){var n=e.currentTarget.parentElement,a=n.getElementsByClassName(t)[0],o=n.getElementsByClassName(r)[0];if(""!=a.value&&""!=o.value)if(Number(o.value)<Number(a.value)||0==Number(a.value))a.style.backgroundColor="#fff",a.style.color="#000",o.style.backgroundColor="#fff",o.style.color="#000",n.classList.add("error"),l(this,f,!0);else{n.classList.remove("error");var c=this.calcColor(a.value,o.value);a.style.backgroundColor=c,a.style.color="#fff",o.style.backgroundColor=c,o.style.color="#fff",u(this,f)&&this.checkForGlobalErrors()}else l(this,f,!0)}},{key:"calcColor",value:function(e,t){var r=100*Number(e)/Number(t);return r<40?"#f93939":r<65?"#f9a23b":"#c2d23a"}},{key:"checkForGlobalErrors",value:function(){var e,t,r=document.querySelectorAll(".sor-area__sor-points"),n=document.querySelectorAll(".sor-area__sor-maxpoints"),a=document.querySelector(".soch-area__soch-points"),c=document.querySelector(".soch-area__soch-maxpoints");a?(e=[].concat(o(r),[a]),t=[].concat(o(n),[c])):(e=o(r),t=o(n));for(var i=0;i<e.length;i++){if(""==e[i].value||""==t[i].value)return void l(this,f,!0);if(Number(t[i].value)<Number(e[i].value)||0==Number(e[i].value))return void l(this,f,!0)}l(this,f,!1)}}])&&i(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}());function y(e){m.checkForErrors(e,"soch-area__soch-points","soch-area__soch-maxpoints")}function d(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?v(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,i=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return c=e.done,e},e:function(e){i=!0,o=e},f:function(){try{c||null==r.return||r.return()}finally{if(i)throw o}}}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var h=[{name:"keypress",callback:e},{name:"focus",callback:t},{name:"keypress",callback:r},{name:"change",callback:n},{name:"change",callback:function(e){Number(e.currentTarget.value),e.currentTarget.style="background-color: "+b(e.currentTarget.value)+";"}},{name:"change",callback:T}];function p(e){if(null!=document.querySelector(".watermark")&&"by Leonid Poleshchuk"==document.querySelector(".watermark").innerText){var t,r=e.currentTarget.id;if(r)switch(r){case"formative-area__input1":t=document.getElementById("formative-area__main1");break;case"formative-area__input2":t=document.getElementById("formative-area__main2")}else t=document.querySelector(".formative-area__main");var n=document.querySelector(".formative-area__formative"),a=t.childElementCount,o=Number(e.currentTarget.value);if(o>a)for(var c=0;c<o-a;c++){var i=document.createElement("input");i.type=n.type,i.value=1,i.min=n.min,i.max=n.max,i.className=n.className,i.style="background-color: "+b(i.value)+";";var l,u=d(h);try{for(u.s();!(l=u.n()).done;){var s=l.value;i.addEventListener(s.name,s.callback)}}catch(e){u.e(e)}finally{u.f()}t.append(i)}else for(var f=0;f<a-o;f++)t.removeChild(t.lastChild)}}function b(e){return e<=4?"#f93939":e<=7?"#f9a23b":"#c2d23a"}function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function _(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return S(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?S(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,i=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return c=e.done,e},e:function(e){i=!0,o=e},f:function(){try{c||null==r.return||r.return()}finally{if(i)throw o}}}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function w(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,a=function(e,t){if("object"!==g(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==g(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===g(a)?a:String(a)),n)}var a}function k(e,t){var r=function(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}(e,t);return function(e,t){return t.get?t.get.call(e):t.value}(e,r)}var E=new WeakMap,A=function(){function e(){var t,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n={writable:!0,value:8},function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t=this,r=E),r.set(t,n)}var t,r;return t=e,r=[{key:"additionalFormativesLimit",get:function(){return k(this,E)}},{key:"calculateResult",value:function(e){if(!m.hasErrors){var t=this.getSum(document.querySelectorAll(".sor-area__sor-points")),r=this.getSum(document.querySelectorAll(".sor-area__sor-maxpoints")),n=document.querySelectorAll(".formative-area__formative").length,a=this.getSum(document.querySelectorAll(".formative-area__formative"));if(null!=document.querySelector(".watermark")&&"by Leonid Poleshchuk"==document.querySelector(".watermark").innerText){if(Array.isArray(e)){n+=e.length;var o,c=_(e);try{for(c.s();!(o=c.n()).done;)a+=o.value}catch(e){c.e(e)}finally{c.f()}}var i=(t+a)/(r+10*n);if("script69.github.io"===window.location.hostname)return document.querySelector(".soch-area__soch-points")&&(i/=2,i+=Number(document.querySelector(".soch-area__soch-points").value)/Number(document.querySelector(".soch-area__soch-maxpoints").value)/2),Math.round(100*i)}}}},{key:"getSum",value:function(e){var t,r=0,n=_(e);try{for(n.s();!(t=n.n()).done;){var a=t.value;r+=Number(a.value)}}catch(e){n.e(e)}finally{n.f()}return r}},{key:"getMarkByPercent",value:function(e){return e<40?2:e<65?3:e<85?4:5}},{key:"getMinPercentOfMark",value:function(e){switch(e){case 3:return 40;case 4:return 65;case 5:return 85}return 0}},{key:"getFormativesForGoodMark",value:function(e){var t=document.querySelectorAll(".result__text")[0].querySelector("span").textContent;t=Number(t.slice(0,-1));var r=this.getMinPercentOfMark(e);if("script69.github.io"===window.location.hostname&&!(this.getMarkByPercent(t)>=e)){for(var n=[7],a=0;!(this.calculateResult(n)>=r)&&n.length!=k(this,E)+1;)n[a]<10?n[a]++:(n.push(7),a++);return n}}}],r&&w(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),q=new A;function T(){var e=q.calculateResult();if(e){var t=document.querySelectorAll(".result__text");t[0].querySelector("span").textContent=e+"%",t[1].querySelector("span").textContent=q.getMarkByPercent(e)}}function x(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return C(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?C(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,i=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return c=e.done,e},e:function(e){i=!0,o=e},f:function(){try{c||null==r.return||r.return()}finally{if(i)throw o}}}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var N=[{name:"keypress",callback:e},{name:"focus",callback:t},{name:"keypress",callback:r},{name:"change",callback:n},{name:"change",callback:function(e){m.checkForErrors(e,"sor-area__sor-points","sor-area__sor-maxpoints")}},{name:"change",callback:T}];function L(e){var t,r=e.currentTarget.id;if(r)switch(r){case"sor-area__input1":t=document.getElementById("sor-area__main1");break;case"sor-area__input2":t=document.getElementById("sor-area__main2")}else t=document.querySelector(".sor-area__main");var n=document.querySelector(".sor-area__sor-points"),a=document.querySelector(".sor-area__sor-maxpoints"),o="sor-area__sor-text",c=t.childElementCount,i=Number(e.currentTarget.value);if("script69.github.io"===window.location.hostname){if(i>c)for(var l=0;l<i-c;l++){var u=document.createElement("div");u.className="sor-area__sor";var s=document.createElement("div");s.className=o,s.innerHTML="СОР "+(c+l+1)+":";var f=document.createElement("div");f.className=o,f.innerHTML="из";var y=document.createElement("input");y.className=n.className;var d=document.createElement("input");d.className=a.className,y.value="",d.value="";for(var v=0,h=[y,d];v<h.length;v++){var p=h[v];p.type=n.type,p.min=n.min;var b,g=x(N);try{for(g.s();!(b=g.n()).done;){var _=b.value;p.addEventListener(_.name,_.callback)}}catch(e){g.e(e)}finally{g.f()}}u.append(s),u.append(y),u.append(f),u.append(d),t.append(u)}else for(var S=0;S<c-i;S++)t.removeChild(t.lastChild);m.checkForGlobalErrors()}}function j(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return M(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?M(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,i=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return c=e.done,e},e:function(e){i=!0,o=e},f:function(){try{c||null==r.return||r.return()}finally{if(i)throw o}}}}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var I,O=j(document.querySelectorAll("input"));try{for(O.s();!(I=O.n()).done;){var P=I.value;P.addEventListener("keypress",e),P.addEventListener("focus",t),P.addEventListener("keypress",r),P.addEventListener("change",n)}}catch(e){O.e(e)}finally{O.f()}document.querySelector(".data-fields__modeinput").addEventListener("change",(function(){var e=document.querySelector(".data-fields__modeinput");"script69.github.io"===window.location.hostname&&(0==e.selectedIndex?window.location.href="../index.html":window.location.href="pages/half_year_mode.html")})),document.querySelectorAll(".formative-area__input").forEach((function(e){e.addEventListener("change",p),e.addEventListener("change",T)}));var F,B=document.querySelectorAll(".formative-area__formative"),$=j(h);try{var G=function(){var e=F.value;B.forEach((function(t){t.addEventListener(e.name,e.callback)}))};for($.s();!(F=$.n()).done;)G()}catch(e){$.e(e)}finally{$.f()}var U=document.querySelector(".header__body"),H=document.createElement("div");H.innerText="by Leonid Poleshchuk",H.className="watermark",U.appendChild(H),document.querySelectorAll(".sor-area__input").forEach((function(e){e.controlMinMaxValue=!0,e.addEventListener("change",L)}));var R,z=document.querySelectorAll(".sor-area__sor-points"),W=document.querySelectorAll(".sor-area__sor-maxpoints"),D=j(N);try{var V=function(){var e=R.value;z.forEach((function(t){t.addEventListener(e.name,e.callback)})),W.forEach((function(t){t.addEventListener(e.name,e.callback)}))};for(D.s();!(R=D.n()).done;)V()}catch(e){D.e(e)}finally{D.f()}var J=document.querySelector(".soch-area__soch-points");if(J){J.addEventListener("change",y),J.addEventListener("change",T);var K=document.querySelector(".soch-area__soch-maxpoints");K.addEventListener("change",y),K.addEventListener("change",T)}document.querySelector(".calculating__button").addEventListener("click",(function(){var e=document.querySelector(".calculating__list"),t=e.options[e.selectedIndex].text;if(m.hasErrors||""===t)alert("Не все данные введены");else{var r=document.querySelector(".calculating__output-field");r.innerHTML="";var n=q.getFormativesForGoodMark(Number(t));if(Array.isArray(n)){document.querySelector(".calculating__output-text").style.display="block";for(var a=0;a<n.length;a++){var o=document.createElement("div");if(o.className="calculating__output-formative",o.textContent=n[a],o.style="background-color: "+b(n[a])+";",a+1==q.additionalFormativesLimit&&n[a+1]){o.classList.add("calculating__output-formative_last"),r.append(o);break}r.append(o)}}else document.querySelector(".calculating__output-text").style.display="none"}}))})();
//# sourceMappingURL=bundle.js.map